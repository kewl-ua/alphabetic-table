(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(23),s=n.n(a),i=n(3),o=n(15),l=n(25),u=n(10),d=n(22),p=n(14),b=n(7),j=n.n(b),h=n(11),f=n(24),m=n(33),O=n(17),y="GET",x="POST",v="PUT",g=new(function(){function e(t){Object(m.a)(this,e),this.baseUrl=t}return Object(O.a)(e,[{key:"request",value:function(){var e=Object(h.a)(j.a.mark((function e(){var t,n,r,c,a,s=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:y,r=s.length>2&&void 0!==s[2]?s[2]:{},c=[this.baseUrl,t].join("/"),a={method:n,headers:{contentType:"application/json"}},n!==x&&n!==v||(a.body=JSON.stringify(r)),e.abrupt("return",fetch(c,a));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request().then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"entity",value:function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("",x,t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(h.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,v,n).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())("https://yalantis-react-school-api.yalantis.com/api/task0/users"),N=n(35),w=n(28),k=n(27),E=["January","February","March","April","June","July","August","September","October","November","December"],T=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),C=function(e,t){return e.lastName.toUpperCase()>t.lastName.toUpperCase()?1:-1},I=Object(N.a)(/([0-9]{4})\x2D([0-9]{2})\x2D([0-9]{2})/,{year:1,month:2,day:3}),S=function(e){return E[e-1]},A=function(e){var t;return null===(t=e.match(I))||void 0===t?void 0:t.groups},D=Object(d.b)("employees/fetchEmployees",Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.list();case 3:return t=e.sent,e.abrupt("return",{employees:t});case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to fetch employees: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),F=Object(d.c)({name:"employee",initialState:{employees:[],selectedEmployeesIds:[]},reducers:{setEmployees:function(e,t){e.employees=t.payload.employees},selectEmployee:function(e,t){e.selectedEmployeesIds.push(t.payload.id)},unselectEmployee:function(e,t){e.selectedEmployeesIds=e.selectedEmployeesIds.filter((function(e){return e!==t.payload.id}))}},extraReducers:Object(p.a)({},D.fulfilled,(function(e,t){e.employees=t.payload.employees}))}),J=function(e){return e.employee.employees},M=Object(f.a)(J,(function(e){return function(e){var t,n=Object(k.a)(e).sort(C),r={},c=Object(w.a)(T);try{for(c.s();!(t=c.n()).done;)r[t.value]=[]}catch(o){c.e(o)}finally{c.f()}var a,s=Object(w.a)(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;r[i.lastName[0].toUpperCase()].push(i)}}catch(o){s.e(o)}finally{s.f()}return Object.entries(r)}(e)})),U=Object(f.a)(J,(function(e){return e.employee.selectedEmployeesIds}),(function(e,t){return e.filter((function(e){return t.includes(e.id)}))})),W=Object(f.a)(U,(function(e){return function(e){var t,n={},r=Object(w.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,a=Number(A(c.dob).month)-1;n[a]?n[a].push(c):n[a]=[c]}}catch(s){r.e(s)}finally{r.f()}return Object.entries(n)}(e)})),q=F.actions,B=(q.setEmployees,q.selectEmployee),L=q.unselectEmployee,P=F.reducer,G=Object(d.a)({reducer:{employee:P}}),K=n(4),R=Object(K.a)({root:{width:"100%"},employeeSection:{width:"100%"}}),z=n(1),H=function(e){var t=e.children,n=R();return Object(z.jsx)("table",{className:n.root,children:t})},Q=Object(K.a)({root:{},inner:{}}),V=function(e){var t=e.children,n=Q();return Object(z.jsx)("thead",{className:n.root,children:Object(z.jsx)("tr",{className:n.inner,children:t})})},X=Object(K.a)({root:{}}),Y=function(e){var t=e.children,n=X();return Object(z.jsx)("th",{className:n.root,children:t})},Z=Object(K.a)({root:{textAlign:"left"}}),$=function(e){var t=e.children,n=Z();return Object(z.jsx)("tbody",{className:n.root,children:Object(z.jsx)("tr",{children:t})})},_=n(19),ee=n(34),te=n(26),ne=Object(K.a)({root:{verticalAlign:"top"}}),re=["className","children"],ce=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=Object(ee.a)(e,re),a=ne();return Object(z.jsx)("td",Object(_.a)(Object(_.a)({className:Object(te.a)(a.root,n)},c),{},{children:r}))},ae=n(16),se=Object(K.a)({root:{border:0,padding:0,margin:0,minWidth:0,display:"flex",flexDirection:"column","& + &":{marginTop:30}},legend:{display:"table",float:"left",margin:0,padding:0,fontWeight:600,width:"100%","& + *":{clear:"both"}},legendActive:{color:"#00f"},label:{width:"1em",height:"1em",display:"inline-block",border:"1px solid",borderRadius:"50%"},labelText:{marginLeft:5},inputWrapper:{display:"inline-flex",alignItems:"center",marginTop:10},input:{display:"none","&:checked + label":{backgroundColor:"#000000",boxShadow:"inset 0 0 0 2px #ffffff"}}}),ie=function(e){var t=e.employee,n=se(),c=Object(u.b)(),a=Object(r.useState)(!1),s=Object(ae.a)(a,2),i=s[0],o=s[1],l=function(){c(B({id:t.id}))},d=function(){c(L({id:t.id}))},b=function(e,t){32===e.keyCode&&(e.preventDefault(),t(),o((function(e){return!e})))};return Object(z.jsxs)("fieldset",{className:n.root,children:[Object(z.jsxs)("legend",{className:Object(te.a)(n.legend,Object(p.a)({},n.legendActive,i)),children:[t.firstName," ",t.lastName]}),Object(z.jsxs)("div",{className:n.inputWrapper,children:[Object(z.jsx)("input",{type:"radio",checked:i,className:n.input,onChange:function(){l(),o(!0)},id:"".concat(t.id,"-activate")}),Object(z.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":i,className:n.label,onKeyDown:function(e){b(e,l)},htmlFor:"".concat(t.id,"-activate")}),Object(z.jsx)("span",{className:n.labelText,children:"active"})]}),Object(z.jsxs)("div",{className:n.inputWrapper,children:[Object(z.jsx)("input",{type:"radio",checked:!i,className:n.input,id:"".concat(t.id,"-deactivate"),onChange:function(){d(),o(!1)}}),Object(z.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":!i,className:n.label,onKeyDown:function(e){b(e,d)},htmlFor:"".concat(t.id,"-deactivate")}),Object(z.jsx)("span",{className:n.labelText,children:"not active"})]})]})},oe=n(5),le=n.n(oe),ue=(le.a.string,le.a.string,le.a.string,le.a.string,Object(K.a)({root:{},title:{padding:"0 10px",fontSize:25,margin:"10px 0"},switchers:{}})),de=function(e){var t=e.letter,n=e.employees,r=void 0===n?[]:n,c=ue(),a=r.map((function(e){return Object(z.jsx)(ie,{employee:e},e.id)}));return Object(z.jsxs)("li",{className:c.root,children:[Object(z.jsx)("h5",{className:c.title,children:t}),Object(z.jsx)("div",{className:c.switchers,children:r.length>0?a:Object(z.jsx)("b",{children:"-----"})})]})},pe=Object(K.a)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gridGap:20,listStyle:"none",padding:0}}),be=function(e){var t=e.alphabeticEmployees,n=void 0===t?[]:t,c=pe(),a=Object(r.useMemo)((function(){return n.map((function(e){var t=Object(ae.a)(e,2),n=t[0],r=t[1];return Object(z.jsx)(de,{letter:n,employees:r},n)}))}),[n]);return Object(z.jsx)("ul",{className:c.root,children:a})},je=Object(K.a)({root:{fontWeight:600},item:{},name:{},dob:{}}),he=function(e){var t=e.employeesByMonth,n=void 0===t?[]:t,c=je(),a=Object(r.useMemo)((function(){return n.map((function(e){var t=Object(ae.a)(e,2),n=t[0],r=t[1].map((function(e){var t=A(e.dob),n=t.day,r=t.month,a=t.year;return Object(z.jsxs)("li",{className:c.dobItem,children:[Object(z.jsxs)("span",{className:c.name,children:[e.firstName," ",e.lastName]}),"\xa0-\xa0",Object(z.jsxs)("span",{className:c.dob,children:[Number(n)," ",S(r),", ",a," year"]})]},e.id)}));return Object(z.jsxs)("li",{className:c.item,children:[Object(z.jsx)("h3",{className:c.month,children:S(n)}),Object(z.jsx)("ul",{className:c.dobList,children:r})]},n)}),[n])}));return console.log("Employees:",n),Object(z.jsx)("ul",{className:c.root,children:a})},fe=Object(K.a)({root:{padding:30}}),me=function(){var e=fe(),t=Object(u.b)(),n=Object(u.c)(M),c=Object(u.c)(W);return Object(r.useEffect)((function(){t(D())}),[t]),Object(z.jsx)("div",{className:e.root,children:Object(z.jsxs)(H,{children:[Object(z.jsxs)(V,{children:[Object(z.jsx)(Y,{children:"Employees"}),Object(z.jsx)(Y,{children:"Employees birthday"})]}),Object(z.jsxs)($,{children:[Object(z.jsx)(ce,{width:"75%",children:Object(z.jsx)(be,{alphabeticEmployees:n})}),Object(z.jsx)(ce,{width:"25%",children:Object(z.jsx)(he,{employeesByMonth:c})})]})]})})},Oe=(n(50),function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(u.a,{store:G,children:Object(z.jsx)(me,{})})})}),ye=(n(51),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))});i.g.setup(Object(o.a)()),i.g.use(Object(l.a)()),s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(Oe,{})}),document.getElementById("root")),ye()}},[[52,1,2]]]);
//# sourceMappingURL=main.5b9525b9.chunk.js.map