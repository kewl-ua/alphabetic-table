(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{56:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(25),s=n.n(c),i=n(3),o=n(19),l=n(27),u=n(16),d=n(41),p=n(6),j=n(24),b=n(18),h=n(10),f=n.n(h),m=n(15),O=n(26),y=n(39),x=n(20),v="GET",g="POST",N="PUT",k=new(function(){function e(t){Object(y.a)(this,e),this.baseUrl=t}return Object(x.a)(e,[{key:"request",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t,n,r,a,c,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:v,r=s.length>2&&void 0!==s[2]?s[2]:{},a=[this.baseUrl,t].join("/"),c={method:n,headers:{contentType:"application/json"}},n!==g&&n!==N||(c.body=JSON.stringify(r)),e.abrupt("return",fetch(a,c));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request().then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"entity",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("",g,t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(m.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,N,n).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())("https://yalantis-react-school-api.yalantis.com/api/task0/users"),w=n(42),C=n(31),E=n(29),S=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),T=function(e,t){return e.lastName.toUpperCase()>t.lastName.toUpperCase()?1:-1},D=Object(w.a)(/([0-9]{4})\x2D([0-9]{2})\x2D([0-9]{2})/,{year:1,month:2,day:3}),F=function(e){var t;return null===(t=e.match(D))||void 0===t?void 0:t.groups},A=Object(j.b)("employees/fetchEmployees",Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.list();case 3:return t=e.sent,e.abrupt("return",{employees:t});case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to fetch employees: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),I=Object(j.c)({name:"employee",initialState:{employees:[],selectedEmployees:[]},reducers:{setEmployees:function(e,t){e.employees=t.payload.employees},selectEmployee:function(e,t){e.selectedEmployees.push(t.payload.employeeId)}},extraReducers:Object(b.a)({},A.fulfilled,(function(e,t){e.employees=t.payload.employees}))}),U=function(e){return e.employee.employees},W=function(e){return e.employee.selectedEmployees},q=Object(O.a)(U,(function(e){return function(e){var t,n=Object(E.a)(e).sort(T),r={},a=Object(C.a)(S);try{for(a.s();!(t=a.n()).done;)r[t.value]=[]}catch(o){a.e(o)}finally{a.f()}var c,s=Object(C.a)(n);try{for(s.s();!(c=s.n()).done;){var i=c.value;r[i.lastName[0].toUpperCase()].push(i)}}catch(o){s.e(o)}finally{s.f()}return Object.entries(r)}(e)})),P=(I.actions.setEmployees,I.reducer),J=Object(j.a)({reducer:{employee:P}}),L=n(7),B=Object(L.a)({root:{width:"100%"},employeeSection:{width:"100%"}}),G=n(1),K=function(e){var t=e.children,n=B();return Object(G.jsx)("table",{className:n.root,children:t})},M=Object(L.a)({root:{},inner:{}}),R=function(e){var t=e.children,n=M();return Object(G.jsx)("thead",{className:n.root,children:Object(G.jsx)("tr",{className:n.inner,children:t})})},z=Object(L.a)({root:{}}),H=function(e){var t=e.children,n=z();return Object(G.jsx)("th",{className:n.root,children:t})},Q=Object(L.a)({root:{textAlign:"left"}}),V=function(e){var t=e.children,n=Q();return Object(G.jsx)("tbody",{className:n.root,children:Object(G.jsx)("tr",{children:t})})},X=n(21),Y=n(40),Z=n(28),$=Object(L.a)({root:{}}),_=["className","children"],ee=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,a=Object(Y.a)(e,_),c=$();return Object(G.jsx)("td",Object(X.a)(Object(X.a)({className:Object(Z.a)(c.root,n)},a),{},{children:r}))},te=n(30),ne=Object(L.a)({root:{border:0,padding:0,margin:0,minWidth:0,display:"flex",flexDirection:"column","& + &":{marginTop:30}},legend:{display:"table",float:"left",margin:0,padding:0,fontWeight:600,width:"100%","& + *":{clear:"both"}},legendActive:{color:"#00f"},label:{width:"1em",height:"1em",display:"inline-block",border:"1px solid",borderRadius:"50%"},labelText:{marginLeft:5},inputWrapper:{display:"inline-flex",alignItems:"center",marginTop:10},input:{display:"none","&:checked + label":{backgroundColor:"#000000",boxShadow:"inset 0 0 0 2px #ffffff"}}}),re=function(e){var t=e.employee,n=ne(),a=Object(r.useState)(!1),c=Object(te.a)(a,2),s=c[0],i=c[1],o=Object(r.useCallback)((function(){console.log("Activating..."),i(!0)}),[]),l=Object(r.useCallback)((function(){console.log("Disactivating..."),i(!1)}),[]),u=Object(r.useCallback)((function(e){32===e.keyCode&&(e.preventDefault(),i((function(e){return!e})))}),[]);return Object(G.jsxs)("fieldset",{className:n.root,children:[Object(G.jsxs)("legend",{className:Object(Z.a)(n.legend,Object(b.a)({},n.legendActive,s)),children:[t.firstName," ",t.lastName]}),Object(G.jsxs)("div",{className:n.inputWrapper,children:[Object(G.jsx)("input",{type:"radio",checked:s,className:n.input,onChange:o,id:"".concat(t.id,"-activate")}),Object(G.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":s,className:n.label,onKeyDown:u,htmlFor:"".concat(t.id,"-activate")}),Object(G.jsx)("span",{className:n.labelText,children:"active"})]}),Object(G.jsxs)("div",{className:n.inputWrapper,children:[Object(G.jsx)("input",{type:"radio",checked:!s,className:n.input,id:"".concat(t.id,"-disactivate"),onChange:l}),Object(G.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":!s,className:n.label,onKeyDown:u,htmlFor:"".concat(t.id,"-disactivate")}),Object(G.jsx)("span",{className:n.labelText,children:"not active"})]})]})},ae=n(5),ce=n.n(ae),se=(ce.a.string,ce.a.string,ce.a.string,ce.a.string,Object(L.a)({root:{},title:{padding:"0 10px",fontSize:25,margin:"10px 0"},switchers:{}})),ie=function(e){var t=e.letter,n=e.employees,r=void 0===n?[]:n,a=se(),c=r.map((function(e){return Object(G.jsx)(re,{employee:e},e.id)}));return Object(G.jsxs)("li",{className:a.root,children:[Object(G.jsx)("h5",{className:a.title,children:t}),Object(G.jsx)("div",{className:a.switchers,children:r.length>0?c:Object(G.jsx)("b",{children:"-----"})})]})},oe=Object(L.a)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gridGap:20,listStyle:"none",padding:0}}),le=function(e){var t=e.alphabeticEmployees,n=void 0===t?[]:t,a=oe(),c=Object(r.useMemo)((function(){return n.map((function(e){var t=Object(te.a)(e,2),n=t[0],r=t[1];return Object(G.jsx)(ie,{letter:n,employees:r},n)}))}),[n]);return Object(G.jsx)("ul",{className:a.root,children:c})},ue=Object(L.a)({root:{}}),de=function(e){var t=e.employees,n=void 0===t?[]:t,r=ue();!function(e){var t,n={},r=Object(C.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=Number(F(a.dob).month)-1;n[c]?n[c].push(a):n[c]=[a]}}catch(s){r.e(s)}finally{r.f()}}(n);return Object(G.jsx)("div",{className:r.root,children:"asdf"})},pe=Object(L.a)({root:{padding:30}}),je=function(){var e=Object(u.b)(),t=Object(u.c)(q),n=Object(u.c)(U),a=Object(u.c)(W),c=pe();return console.log("Selected employees: ",a),Object(r.useEffect)((function(){e(A())}),[e]),Object(G.jsx)("div",{className:c.root,children:Object(G.jsxs)(K,{children:[Object(G.jsxs)(R,{children:[Object(G.jsx)(H,{children:"Employees"}),Object(G.jsx)(H,{children:"Employees birthday"})]}),Object(G.jsxs)(V,{children:[Object(G.jsx)(ee,{className:c.employeeSection,children:Object(G.jsx)(le,{alphabeticEmployees:t})}),Object(G.jsx)(ee,{children:Object(G.jsx)(de,{employees:n})})]})]})})},be=(n(56),function(){return Object(G.jsx)("div",{className:"App",children:Object(G.jsx)(u.a,{store:J,children:Object(G.jsx)(d.a,{children:Object(G.jsx)(p.c,{children:Object(G.jsx)(p.a,{path:"/employees",children:Object(G.jsx)(je,{})})})})})})}),he=(n(60),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))});i.g.setup(Object(o.a)()),i.g.use(Object(l.a)()),s.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(be,{})}),document.getElementById("root")),he()}},[[61,1,2]]]);
//# sourceMappingURL=main.9ac550c7.chunk.js.map