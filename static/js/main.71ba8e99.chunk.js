(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{56:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(26),s=n.n(a),i=n(3),o=n(19),l=n(28),u=n(15),d=n(41),j=n(6),p=n(25),b=n(18),h=n(10),m=n.n(h),f=n(16),O=n(27),y=n(39),x=n(21),v="GET",g="POST",N="PUT",w=new(function(){function e(t){Object(y.a)(this,e),this.baseUrl=t}return Object(x.a)(e,[{key:"request",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,r,c,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:v,r=s.length>2&&void 0!==s[2]?s[2]:{},c=[this.baseUrl,t].join("/"),a={method:n,headers:{contentType:"application/json"}},n!==g&&n!==N||(a.body=JSON.stringify(r)),e.abrupt("return",fetch(c,a));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request().then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"entity",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("",g,t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,N,n).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())("https://yalantis-react-school-api.yalantis.com/api/task0/users"),k=n(42),E=n(31),T=n(30),C=["January","February","March","April","June","July","August","September","October","November","December"],I=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),S=function(e,t){return e.lastName.toUpperCase()>t.lastName.toUpperCase()?1:-1},A=Object(k.a)(/([0-9]{4})\x2D([0-9]{2})\x2D([0-9]{2})/,{year:1,month:2,day:3}),D=function(e){return C[e-1]},F=function(e){var t;return null===(t=e.match(A))||void 0===t?void 0:t.groups},J=Object(p.b)("employees/fetchEmployees",Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.list();case 3:return t=e.sent,e.abrupt("return",{employees:t});case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to fetch employees: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),M=Object(p.c)({name:"employee",initialState:{employees:[],selectedEmployeesIds:[]},reducers:{setEmployees:function(e,t){e.employees=t.payload.employees},selectEmployee:function(e,t){e.selectedEmployeesIds.push(t.payload.id)},unselectEmployee:function(e,t){e.selectedEmployeesIds=e.selectedEmployeesIds.filter((function(e){return e!==t.payload.id}))}},extraReducers:Object(b.a)({},J.fulfilled,(function(e,t){e.employees=t.payload.employees}))}),U=function(e){return e.employee.employees},W=Object(O.a)(U,(function(e){return function(e){var t,n=Object(T.a)(e).sort(S),r={},c=Object(E.a)(I);try{for(c.s();!(t=c.n()).done;)r[t.value]=[]}catch(o){c.e(o)}finally{c.f()}var a,s=Object(E.a)(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;r[i.lastName[0].toUpperCase()].push(i)}}catch(o){s.e(o)}finally{s.f()}return Object.entries(r)}(e)})),q=Object(O.a)(U,(function(e){return e.employee.selectedEmployeesIds}),(function(e,t){return e.filter((function(e){return t.includes(e.id)}))})),B=Object(O.a)(q,(function(e){return function(e){var t,n={},r=Object(E.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,a=Number(F(c.dob).month)-1;n[a]?n[a].push(c):n[a]=[c]}}catch(s){r.e(s)}finally{r.f()}return Object.entries(n)}(e)})),L=M.actions,P=(L.setEmployees,L.selectEmployee),G=L.unselectEmployee,K=M.reducer,R=Object(p.a)({reducer:{employee:K}}),z=n(7),H=Object(z.a)({root:{width:"100%"},employeeSection:{width:"100%"}}),Q=n(1),V=function(e){var t=e.children,n=H();return Object(Q.jsx)("table",{className:n.root,children:t})},X=Object(z.a)({root:{},inner:{}}),Y=function(e){var t=e.children,n=X();return Object(Q.jsx)("thead",{className:n.root,children:Object(Q.jsx)("tr",{className:n.inner,children:t})})},Z=Object(z.a)({root:{}}),$=function(e){var t=e.children,n=Z();return Object(Q.jsx)("th",{className:n.root,children:t})},_=Object(z.a)({root:{textAlign:"left"}}),ee=function(e){var t=e.children,n=_();return Object(Q.jsx)("tbody",{className:n.root,children:Object(Q.jsx)("tr",{children:t})})},te=n(22),ne=n(40),re=n(29),ce=Object(z.a)({root:{verticalAlign:"top"}}),ae=["className","children"],se=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=Object(ne.a)(e,ae),a=ce();return Object(Q.jsx)("td",Object(te.a)(Object(te.a)({className:Object(re.a)(a.root,n)},c),{},{children:r}))},ie=n(20),oe=Object(z.a)({root:{border:0,padding:0,margin:0,minWidth:0,display:"flex",flexDirection:"column","& + &":{marginTop:30}},legend:{display:"table",float:"left",margin:0,padding:0,fontWeight:600,width:"100%","& + *":{clear:"both"}},legendActive:{color:"#00f"},label:{width:"1em",height:"1em",display:"inline-block",border:"1px solid",borderRadius:"50%"},labelText:{marginLeft:5},inputWrapper:{display:"inline-flex",alignItems:"center",marginTop:10},input:{display:"none","&:checked + label":{backgroundColor:"#000000",boxShadow:"inset 0 0 0 2px #ffffff"}}}),le=function(e){var t=e.employee,n=oe(),c=Object(u.b)(),a=Object(r.useState)(!1),s=Object(ie.a)(a,2),i=s[0],o=s[1],l=function(){c(P({id:t.id}))},d=function(){c(G({id:t.id}))},j=function(e,t){32===e.keyCode&&(e.preventDefault(),t(),o((function(e){return!e})))};return Object(Q.jsxs)("fieldset",{className:n.root,children:[Object(Q.jsxs)("legend",{className:Object(re.a)(n.legend,Object(b.a)({},n.legendActive,i)),children:[t.firstName," ",t.lastName]}),Object(Q.jsxs)("div",{className:n.inputWrapper,children:[Object(Q.jsx)("input",{type:"radio",checked:i,className:n.input,onChange:function(){l(),o(!0)},id:"".concat(t.id,"-activate")}),Object(Q.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":i,className:n.label,onKeyDown:function(e){j(e,l)},htmlFor:"".concat(t.id,"-activate")}),Object(Q.jsx)("span",{className:n.labelText,children:"active"})]}),Object(Q.jsxs)("div",{className:n.inputWrapper,children:[Object(Q.jsx)("input",{type:"radio",checked:!i,className:n.input,id:"".concat(t.id,"-deactivate"),onChange:function(){d(),o(!1)}}),Object(Q.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":!i,className:n.label,onKeyDown:function(e){j(e,d)},htmlFor:"".concat(t.id,"-deactivate")}),Object(Q.jsx)("span",{className:n.labelText,children:"not active"})]})]})},ue=n(5),de=n.n(ue),je=(de.a.string,de.a.string,de.a.string,de.a.string,Object(z.a)({root:{},title:{padding:"0 10px",fontSize:25,margin:"10px 0"},switchers:{}})),pe=function(e){var t=e.letter,n=e.employees,r=void 0===n?[]:n,c=je(),a=r.map((function(e){return Object(Q.jsx)(le,{employee:e},e.id)}));return Object(Q.jsxs)("li",{className:c.root,children:[Object(Q.jsx)("h5",{className:c.title,children:t}),Object(Q.jsx)("div",{className:c.switchers,children:r.length>0?a:Object(Q.jsx)("b",{children:"-----"})})]})},be=Object(z.a)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gridGap:20,listStyle:"none",padding:0}}),he=function(e){var t=e.alphabeticEmployees,n=void 0===t?[]:t,c=be(),a=Object(r.useMemo)((function(){return n.map((function(e){var t=Object(ie.a)(e,2),n=t[0],r=t[1];return Object(Q.jsx)(pe,{letter:n,employees:r},n)}))}),[n]);return Object(Q.jsx)("ul",{className:c.root,children:a})},me=Object(z.a)({root:{fontWeight:600},item:{},name:{},dob:{}}),fe=function(e){var t=e.employeesByMonth,n=void 0===t?[]:t,c=me(),a=Object(r.useMemo)((function(){return n.map((function(e){var t=Object(ie.a)(e,2),n=t[0],r=t[1].map((function(e){var t=F(e.dob),n=t.day,r=t.month,a=t.year;return Object(Q.jsxs)("li",{className:c.dobItem,children:[Object(Q.jsxs)("span",{className:c.name,children:[e.firstName," ",e.lastName]}),"\xa0-\xa0",Object(Q.jsxs)("span",{className:c.dob,children:[Number(n)," ",D(r),", ",a," year"]})]},e.id)}));return Object(Q.jsxs)("li",{className:c.item,children:[Object(Q.jsx)("h3",{className:c.month,children:D(n)}),Object(Q.jsx)("ul",{className:c.dobList,children:r})]},n)}),[n])}));return console.log("Employees:",n),Object(Q.jsx)("ul",{className:c.root,children:a})},Oe=Object(z.a)({root:{padding:30}}),ye=function(){var e=Oe(),t=Object(u.b)(),n=Object(u.c)(W),c=Object(u.c)(B);return Object(r.useEffect)((function(){t(J())}),[t]),Object(Q.jsx)("div",{className:e.root,children:Object(Q.jsxs)(V,{children:[Object(Q.jsxs)(Y,{children:[Object(Q.jsx)($,{children:"Employees"}),Object(Q.jsx)($,{children:"Employees birthday"})]}),Object(Q.jsxs)(ee,{children:[Object(Q.jsx)(se,{width:"75%",children:Object(Q.jsx)(he,{alphabeticEmployees:n})}),Object(Q.jsx)(se,{width:"25%",children:Object(Q.jsx)(fe,{employeesByMonth:c})})]})]})})},xe=(n(56),function(){return Object(Q.jsx)("div",{className:"App",children:Object(Q.jsx)(u.a,{store:R,children:Object(Q.jsx)(d.a,{children:Object(Q.jsx)(j.c,{children:Object(Q.jsx)(j.a,{path:"/employees",children:Object(Q.jsx)(ye,{})})})})})})}),ve=(n(60),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))});i.g.setup(Object(o.a)()),i.g.use(Object(l.a)()),s.a.render(Object(Q.jsx)(c.a.StrictMode,{children:Object(Q.jsx)(xe,{})}),document.getElementById("root")),ve()}},[[61,1,2]]]);
//# sourceMappingURL=main.71ba8e99.chunk.js.map