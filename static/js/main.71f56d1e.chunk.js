(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(26),s=n.n(a),i=n(3),o=n(19),l=n(28),u=n(15),d=n(29),b=n(7),j=n(25),p=n(18),h=n(10),m=n.n(h),f=n(16),O=n(27),y=n(40),x=n(21),v="GET",g="POST",N="PUT",w=new(function(){function e(t){Object(y.a)(this,e),this.baseUrl=t}return Object(x.a)(e,[{key:"request",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,r,c,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:v,r=s.length>2&&void 0!==s[2]?s[2]:{},c=[this.baseUrl,t].join("/"),a={method:n,headers:{contentType:"application/json"}},n!==g&&n!==N||(a.body=JSON.stringify(r)),e.abrupt("return",fetch(c,a));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request().then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"entity",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("",g,t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,N,n).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())("https://yalantis-react-school-api.yalantis.com/api/task0/users"),k=n(42),E=n(32),S=n(31),C=["January","February","March","April","May","June","July","August","September","October","November","December"],I=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),T=function(e,t){return e.lastName.toUpperCase()>t.lastName.toUpperCase()?1:-1},M=Object(k.a)(/([0-9]{4})\x2D([0-9]{2})\x2D([0-9]{2})/,{year:1,month:2,day:3}),A=function(e){return C[e-1]},D=function(e){var t;return null===(t=e.match(M))||void 0===t?void 0:t.groups},F=Object(j.b)("employees/fetchEmployees",Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.list();case 3:return t=e.sent,e.abrupt("return",{employees:t});case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to fetch employees: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),B=Object(j.c)({name:"employee",initialState:{employees:[],selectedEmployeesIds:[]},reducers:{setEmployees:function(e,t){e.employees=t.payload.employees},selectEmployee:function(e,t){e.selectedEmployeesIds.push(t.payload.id)},unselectEmployee:function(e,t){e.selectedEmployeesIds=e.selectedEmployeesIds.filter((function(e){return e!==t.payload.id}))}},extraReducers:Object(p.a)({},F.fulfilled,(function(e,t){e.employees=t.payload.employees}))}),J=function(e){return e.employee.employees},L=Object(O.a)(J,(function(e){return function(e){var t,n=Object(S.a)(e).sort(T),r={},c=Object(E.a)(I);try{for(c.s();!(t=c.n()).done;)r[t.value]=[]}catch(o){c.e(o)}finally{c.f()}var a,s=Object(E.a)(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;r[i.lastName[0].toUpperCase()].push(i)}}catch(o){s.e(o)}finally{s.f()}return Object.entries(r)}(e)})),U=Object(O.a)(J,(function(e){return e.employee.selectedEmployeesIds}),(function(e,t){return e.filter((function(e){return t.includes(e.id)}))})),W=Object(O.a)(U,(function(e){return function(e){var t,n={},r=Object(E.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,a=Number(D(c.dob).month)-1;n[a]?n[a].push(c):n[a]=[c]}}catch(s){r.e(s)}finally{r.f()}return Object.entries(n)}(e)})),q=B.actions,P=(q.setEmployees,q.selectEmployee),G=q.unselectEmployee,K=B.reducer,R=Object(j.a)({reducer:{employee:K}}),z=n(1),H=function(){return Object(z.jsx)("nav",{children:Object(z.jsx)("ul",{children:Object(z.jsx)("li",{children:Object(z.jsx)(d.b,{to:"/employees",children:"Employees"})})})})},Q=n(5),V=Object(Q.a)({root:{width:"100%"},employeeSection:{width:"100%"}}),X=function(e){var t=e.children,n=V();return Object(z.jsx)("table",{className:n.root,children:t})},Y=Object(r.memo)(X),Z=Object(Q.a)({root:{},inner:{}}),$=function(e){var t=e.children,n=Z();return Object(z.jsx)("thead",{className:n.root,children:Object(z.jsx)("tr",{className:n.inner,children:t})})},_=Object(r.memo)($),ee=Object(Q.a)({root:{fontSize:25}}),te=function(e){var t=e.children,n=ee();return Object(z.jsx)("th",{className:n.root,children:t})},ne=Object(r.memo)(te),re=Object(Q.a)({root:{textAlign:"left"}}),ce=function(e){var t=e.children,n=re();return Object(z.jsx)("tbody",{className:n.root,children:Object(z.jsx)("tr",{children:t})})},ae=Object(r.memo)(ce),se=n(22),ie=n(41),oe=n(30),le=Object(Q.a)({root:{verticalAlign:"top"}}),ue=["className","children"],de=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=Object(ie.a)(e,ue),a=le();return Object(z.jsx)("td",Object(se.a)(Object(se.a)({className:Object(oe.a)(a.root,n)},c),{},{children:r}))},be=Object(r.memo)(de),je=n(20),pe=Object(Q.a)({root:{border:0,padding:0,margin:0,minWidth:0,display:"flex",flexDirection:"column","& + &":{marginTop:30}},legend:{display:"table",float:"left",margin:0,padding:0,fontWeight:600,width:"100%","& + *":{clear:"both"}},legendActive:{color:"#00f"},label:{width:"1em",height:"1em",display:"inline-block",cursor:"pointer",border:"1px solid",borderRadius:"50%"},labelText:{marginLeft:5},inputWrapper:{display:"inline-flex",alignItems:"center",marginTop:10,cursor:"pointer"},input:{display:"none","&:checked + label":{backgroundColor:"#000000",boxShadow:"inset 0 0 0 2px #ffffff"}}}),he=function(e){var t=e.employee,n=pe(),c=Object(u.b)(),a=Object(r.useState)(!1),s=Object(je.a)(a,2),i=s[0],o=s[1],l=function(){c(P({id:t.id}))},d=function(){c(G({id:t.id}))},b=function(){l(),o(!0)},j=function(){d(),o(!1)},h=function(e,t){32===e.keyCode&&(e.preventDefault(),t(),o((function(e){return!e})))};return Object(z.jsxs)("fieldset",{className:n.root,children:[Object(z.jsxs)("legend",{className:Object(oe.a)(n.legend,Object(p.a)({},n.legendActive,i)),children:[t.firstName," ",t.lastName]}),Object(z.jsxs)("div",{className:n.inputWrapper,children:[Object(z.jsx)("input",{type:"radio",checked:i,className:n.input,onChange:b,id:"".concat(t.id,"-activate")}),Object(z.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":i,className:n.label,onKeyDown:function(e){h(e,l)},htmlFor:"".concat(t.id,"-activate")}),Object(z.jsx)("span",{className:n.labelText,onClick:b,children:"active"})]}),Object(z.jsxs)("div",{className:n.inputWrapper,children:[Object(z.jsx)("input",{type:"radio",checked:!i,className:n.input,id:"".concat(t.id,"-deactivate"),onChange:j}),Object(z.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":!i,className:n.label,onKeyDown:function(e){h(e,d)},htmlFor:"".concat(t.id,"-deactivate")}),Object(z.jsx)("span",{className:n.labelText,onClick:j,children:"not active"})]})]})},me=n(6),fe=n.n(me),Oe=(fe.a.string,fe.a.string,fe.a.string,fe.a.string,Object(Q.a)({root:{},title:{padding:"0 10px",fontSize:25,margin:"10px 0"},switchers:{}})),ye=function(e){var t=e.letter,n=e.employees,r=void 0===n?[]:n,c=Oe(),a=r.map((function(e){return Object(z.jsx)(he,{employee:e},e.id)}));return Object(z.jsxs)("li",{className:c.root,children:[Object(z.jsx)("h5",{className:c.title,children:t}),Object(z.jsx)("div",{className:c.switchers,children:r.length>0?a:Object(z.jsx)("b",{children:"-----"})})]})},xe=Object(Q.a)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gridGap:20,listStyle:"none",padding:0}}),ve=function(e){var t=e.alphabeticEmployees,n=void 0===t?[]:t,c=xe(),a=Object(r.useMemo)((function(){return n.map((function(e){var t=Object(je.a)(e,2),n=t[0],r=t[1];return Object(z.jsx)(ye,{letter:n,employees:r},n)}))}),[n]);return Object(z.jsx)("ul",{className:c.root,children:a})},ge=Object(Q.a)({root:{},month:{},dobList:{},dobItem:{},dob:{}}),Ne=function(e){var t=e.employeeByMonth,n=ge(),r=Object(je.a)(t,2),c=r[0],a=r[1].map((function(e){var t=D(e.dob),r=t.day,c=t.month,a=t.year;return Object(z.jsxs)("li",{className:n.dobItem,children:[Object(z.jsxs)("span",{className:n.name,children:[e.firstName," ",e.lastName]}),"\xa0-\xa0",Object(z.jsxs)("span",{className:n.dob,children:[Number(r)," ",A(c),", ",a," year"]})]},e.id)}));return Object(z.jsxs)("li",{className:n.root,children:[Object(z.jsx)("h3",{className:n.month,children:A(c)}),Object(z.jsx)("ul",{className:n.dobList,children:a})]},c)},we=Object(r.memo)(Ne),ke=Object(Q.a)({root:{fontWeight:600}}),Ee=function(e){var t=e.employeesByMonth,n=void 0===t?[]:t,c=ke(),a=Object(r.useMemo)((function(){return n.map((function(e){return Object(z.jsx)(we,{employeeByMonth:e},e[0])}))}),[n]);return Object(z.jsx)("ul",{className:c.root,children:a})},Se=Object(Q.a)({root:{padding:30},birthdaySection:{borderLeft:"2px solid #666"}}),Ce=function(){var e=Se(),t=Object(u.b)(),n=Object(u.c)(L),c=Object(u.c)(W);return Object(r.useEffect)((function(){t(F())}),[t]),Object(z.jsx)("div",{className:e.root,children:Object(z.jsxs)(Y,{children:[Object(z.jsxs)(_,{children:[Object(z.jsx)(ne,{children:"Employees"}),Object(z.jsx)(ne,{children:"Employees birthday"})]}),Object(z.jsxs)(ae,{children:[Object(z.jsx)(be,{width:"75%",children:Object(z.jsx)(ve,{alphabeticEmployees:n})}),Object(z.jsx)(be,{width:"25%",className:e.birthdaySection,children:Object(z.jsx)(Ee,{employeesByMonth:c})})]})]})})},Ie=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(u.a,{store:R,children:Object(z.jsx)(d.a,{basename:"/alphabetic-table",children:Object(z.jsxs)(b.c,{children:[Object(z.jsx)(b.a,{exact:!0,path:"/",children:Object(z.jsx)(H,{})}),Object(z.jsx)(b.a,{path:"/employees",children:Object(z.jsx)(Ce,{})})]})})})})},Te=(n(59),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))});i.g.setup(Object(o.a)()),i.g.use(Object(l.a)()),s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(Ie,{})}),document.getElementById("root")),Te()}},[[60,1,2]]]);
//# sourceMappingURL=main.71f56d1e.chunk.js.map