(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(26),s=n.n(a),i=n(3),o=n(19),l=n(28),u=n(15),d=n(29),b=n(7),j=n(20),p=n(18),h=n(10),m=n.n(h),f=n(16),O=n(40),y=n(22),x="GET",v="POST",g="PUT",N=new(function(){function e(t){Object(O.a)(this,e),this.baseUrl=t}return Object(y.a)(e,[{key:"request",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,r,c,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:x,r=s.length>2&&void 0!==s[2]?s[2]:{},c=[this.baseUrl,t].join("/"),a={method:n,headers:{contentType:"application/json"}},n!==v&&n!==g||(a.body=JSON.stringify(r)),e.abrupt("return",fetch(c,a));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request().then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"entity",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("",v,t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(t,g,n).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())("https://yalantis-react-school-api.yalantis.com/api/task0/users"),w=Object(j.b)("employees/fetchEmployees",Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.list();case 3:return t=e.sent,e.abrupt("return",{employees:t});case 7:e.prev=7,e.t0=e.catch(0),console.log("Failed to fetch employees: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),k=Object(j.c)({name:"employee",initialState:{employees:[],selectedEmployeesIds:[]},reducers:{setEmployees:function(e,t){e.employees=t.payload.employees},selectEmployee:function(e,t){e.selectedEmployeesIds.push(t.payload.id)},unselectEmployee:function(e,t){e.selectedEmployeesIds=e.selectedEmployeesIds.filter((function(e){return e!==t.payload.id}))}},extraReducers:Object(p.a)({},w.fulfilled,(function(e,t){e.employees=t.payload.employees}))}),E=k.actions,S=(E.setEmployees,E.selectEmployee),C=E.unselectEmployee,I=k.reducer,T=Object(j.a)({reducer:{employee:I}}),A=n(1),D=function(){return Object(A.jsx)("nav",{children:Object(A.jsx)("ul",{children:Object(A.jsx)("li",{children:Object(A.jsx)(d.b,{to:"/employees",children:"Employees"})})})})},F=n(6),M=Object(F.a)({root:{width:"100%"},employeeSection:{width:"100%"}}),J=function(e){var t=e.children,n=M();return Object(A.jsx)("table",{className:n.root,children:t})},L=Object(r.memo)(J),U=Object(F.a)({root:{},inner:{}}),W=function(e){var t=e.children,n=U();return Object(A.jsx)("thead",{className:n.root,children:Object(A.jsx)("tr",{className:n.inner,children:t})})},q=Object(r.memo)(W),B=Object(F.a)({root:{fontSize:25}}),P=function(e){var t=e.children,n=B();return Object(A.jsx)("th",{className:n.root,children:t})},G=Object(r.memo)(P),K=Object(F.a)({root:{textAlign:"left"}}),R=function(e){var t=e.children,n=K();return Object(A.jsx)("tbody",{className:n.root,children:Object(A.jsx)("tr",{children:t})})},z=Object(r.memo)(R),H=n(23),Q=n(41),V=n(30),X=Object(F.a)({root:{verticalAlign:"top"}}),Y=["className","children"],Z=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=Object(Q.a)(e,Y),a=X();return Object(A.jsx)("td",Object(H.a)(Object(H.a)({className:Object(V.a)(a.root,n)},c),{},{children:r}))},$=Object(r.memo)(Z),_=n(21),ee=n(4),te=n.n(ee),ne=te.a.shape({id:te.a.string,firstName:te.a.string,lastName:te.a.string,dob:te.a.string}),re=Object(F.a)({root:{border:0,padding:0,margin:0,minWidth:0,display:"flex",flexDirection:"column","& + &":{marginTop:30}},legend:{display:"table",float:"left",margin:0,padding:0,fontWeight:600,width:"100%","& + *":{clear:"both"}},legendActive:{color:"#00f"},label:{width:"1em",height:"1em",display:"inline-block",cursor:"pointer",border:"1px solid",borderRadius:"50%"},labelText:{marginLeft:5},inputWrapper:{display:"inline-flex",alignItems:"center",marginTop:10,cursor:"pointer"},input:{display:"none","&:checked + label":{backgroundColor:"#000000",boxShadow:"inset 0 0 0 2px #ffffff"}}}),ce=function(e){var t=e.employee,n=re(),c=Object(u.b)(),a=Object(r.useState)(!1),s=Object(_.a)(a,2),i=s[0],o=s[1],l=function(){c(S({id:t.id}))},d=function(){c(C({id:t.id}))},b=function(){l(),o(!0)},j=function(){d(),o(!1)},h=function(e,t){32===e.keyCode&&(e.preventDefault(),t(),o((function(e){return!e})))};return Object(A.jsxs)("fieldset",{className:n.root,children:[Object(A.jsxs)("legend",{className:Object(V.a)(n.legend,Object(p.a)({},n.legendActive,i)),children:[t.firstName," ",t.lastName]}),Object(A.jsxs)("div",{className:n.inputWrapper,children:[Object(A.jsx)("input",{type:"radio",checked:i,className:n.input,onChange:b,id:"".concat(t.id,"-activate")}),Object(A.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":i,className:n.label,onKeyDown:function(e){h(e,l)},htmlFor:"".concat(t.id,"-activate")}),Object(A.jsx)("span",{className:n.labelText,onClick:b,children:"active"})]}),Object(A.jsxs)("div",{className:n.inputWrapper,children:[Object(A.jsx)("input",{type:"radio",checked:!i,className:n.input,id:"".concat(t.id,"-deactivate"),onChange:j}),Object(A.jsx)("label",{tabIndex:"0",role:"radio","aria-checked":!i,className:n.label,onKeyDown:function(e){h(e,d)},htmlFor:"".concat(t.id,"-deactivate")}),Object(A.jsx)("span",{className:n.labelText,onClick:j,children:"not active"})]})]})},ae=Object(F.a)({root:{},title:{padding:"0 10px",fontSize:25,margin:"10px 0"},switchers:{}}),se=function(e){var t=e.letter,n=e.employees,r=void 0===n?[]:n,c=ae(),a=r.map((function(e){return Object(A.jsx)(ce,{employee:e},e.id)}));return Object(A.jsxs)("li",{className:c.root,children:[Object(A.jsx)("h5",{className:c.title,children:t}),Object(A.jsx)("div",{className:c.switchers,children:r.length>0?a:Object(A.jsx)("b",{children:"-----"})})]})},ie=Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),oe=["January","February","March","April","May","June","July","August","September","October","November","December"],le=ie.map((function(e){return[e,te.a.arrayOf(ne)]})),ue=(te.a.shape(Object.fromEntries(le)),Object(F.a)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gridGap:20,listStyle:"none",padding:0}})),de=function(e){var t=e.alphabeticEmployees,n=ue(),c=Object(r.useMemo)((function(){return Object.entries(t).map((function(e){var t=Object(_.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)(se,{letter:n,employees:r},n)}))}),[t]);return Object(A.jsx)("ul",{className:n.root,children:c})},be=Object(F.a)({root:{},month:{},dobList:{},dobItem:{},dob:{}}),je=n(42),pe=n(31),he=n(32),me=function(e,t){return e.lastName.toUpperCase()>t.lastName.toUpperCase()?1:-1},fe=function(e){var t,n=Object(pe.a)(e).sort(me),r=function(){var e,t={},n=Object(he.a)(ie);try{for(n.s();!(e=n.n()).done;)t[e.value]=[]}catch(r){n.e(r)}finally{n.f()}return t}(),c=Object(he.a)(n);try{for(c.s();!(t=c.n()).done;){var a=t.value;r[a.lastName[0].toUpperCase()].push(a)}}catch(s){c.e(s)}finally{c.f()}return r},Oe=Object(je.a)(/([0-9]{4})\x2D([0-9]{2})\x2D([0-9]{2})/,{year:1,month:2,day:3}),ye=function(e){return oe[e-1]},xe=function(e){var t;return null===(t=e.match(Oe))||void 0===t?void 0:t.groups},ve=function(e){var t=e.month,n=e.employees,r=be(),c=n.map((function(e){var t=xe(e.dob),n=t.day,c=t.month,a=t.year;return Object(A.jsxs)("li",{className:r.dobItem,children:[Object(A.jsxs)("span",{className:r.name,children:[e.firstName," ",e.lastName]}),"\xa0-\xa0",Object(A.jsxs)("span",{className:r.dob,children:[Number(n)," ",ye(c),", ",a," year"]})]},e.id)}));return Object(A.jsxs)("li",{className:r.root,children:[Object(A.jsx)("h3",{className:r.month,children:ye(t)}),Object(A.jsx)("ul",{className:r.dobList,children:c})]},t)},ge=Object(r.memo)(ve),Ne=oe.map((function(e){return[e,te.a.arrayOf(ne)]})),we=Object.fromEntries(Ne),ke=(te.a.shape(we),Object(F.a)({root:{fontWeight:600}})),Ee=function(e){var t=e.employeesByMonth,n=ke(),c=Object(r.useMemo)((function(){return Object.entries(t).map((function(e){var t=Object(_.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)(ge,{month:n,employees:r},n)}))}),[t]);return Object(A.jsx)("ul",{className:n.root,children:c})},Se=n(27),Ce=function(e){return e.employee.employees},Ie=Object(Se.a)(Ce,(function(e){return fe(e)})),Te=Object(Se.a)(Ce,(function(e){return e.employee.selectedEmployeesIds}),(function(e,t){return e.filter((function(e){return t.includes(e.id)}))})),Ae=Object(Se.a)(Te,(function(e){return function(e){var t,n={},r=Object(he.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,a=Number(xe(c.dob).month)-1;n[a]?n[a].push(c):n[a]=[c]}}catch(s){r.e(s)}finally{r.f()}return n}(e)})),De=Object(F.a)({root:{padding:30},alphaSection:{width:"75%"},birthdaySection:{width:"25%",borderLeft:"2px solid #666"}}),Fe=function(){var e=De(),t=Object(u.b)(),n=Object(u.c)(Ie),c=Object(u.c)(Ae);return Object(r.useEffect)((function(){t(w())}),[t]),Object(A.jsx)("div",{className:e.root,children:Object(A.jsxs)(L,{children:[Object(A.jsxs)(q,{children:[Object(A.jsx)(G,{children:"Employees"}),Object(A.jsx)(G,{children:"Employees birthday"})]}),Object(A.jsxs)(z,{children:[Object(A.jsx)($,{children:Object(A.jsx)(de,{alphabeticEmployees:n})}),Object(A.jsx)($,{className:e.birthdaySection,children:Object(A.jsx)(Ee,{employeesByMonth:c})})]})]})})},Me=function(){return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(u.a,{store:T,children:Object(A.jsx)(d.a,{basename:"/alphabetic-table",children:Object(A.jsxs)(b.c,{children:[Object(A.jsx)(b.a,{exact:!0,path:"/",children:Object(A.jsx)(D,{})}),Object(A.jsx)(b.a,{path:"/employees",children:Object(A.jsx)(Fe,{})})]})})})})},Je=(n(59),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))});i.g.setup(Object(o.a)()),i.g.use(Object(l.a)()),s.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(Me,{})}),document.getElementById("root")),Je()}},[[60,1,2]]]);
//# sourceMappingURL=main.fcb1c4ad.chunk.js.map